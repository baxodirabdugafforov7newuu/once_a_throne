<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Uzbekistan Historical Map</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css" />
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background: #f4f4f4;
        }

        #map {
            height: 600px;
            width: 80%;
            margin: auto;
            border: 2px solid #333;
            border-radius: 8px;
        }

        .buttons {
            margin: 10px;
        }

        .buttons button {
            margin: 5px;
            padding: 10px 15px;
            cursor: pointer;
            font-size: 16px;
            border: none;
            border-radius: 5px;
            transition: 0.3s ease-in-out;
        }

        .buttons button:hover {
            background: #333;
            color: white;
        }
    </style>
</head>

<body>

    <div class="buttons">
        <button onclick="showBorders(1210)">1210 - Khwarazmian Empire</button>
        <button onclick="showBorders(1400)">1400 - Timurid Empire</button>
        <button onclick="showBorders(1500)">1500 - Shaybanid Dynasty</button>
        <button onclick="showBorders(1750)">1750 - Bukhara, Khiva, Kokand</button>
        <button onclick="showBorders(1950)">1950 - Soviet Era</button>
        <button onclick="showBorders(2020)">2020 - Modern Uzbekistan</button>
    </div>

    <div id="map"></div>

    <script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"></script>
    <script>
        var map = L.map('map').setView([41.5, 64.0], 5);
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', { attribution: '&copy; OpenStreetMap contributors' }).addTo(map);

        var borderLayer;

        var borders = {
            1210: [
                {
                    name: "Khwarazmian Empire",
                    coords: [
                        [42.617791, 52.552467],[45.089036, 57.081261],[44.933696, 58.268421],[46.134170, 60.994491],[47.398349, 62.357527],
                        [47.249407, 64.380095],[46.103709, 63.940406],[45.305803, 65.743130],[45.644768, 68.513169],[44.902578, 71.459084],
                        [43.389082, 73.921341],[41.934977, 72.734182],[41.046217, 70.008111],[39.571822, 70.315893],[37.753344, 70.403831],
                        [35.245619, 68.820150],[32.990236, 64.819784],[30.334954, 62.181651],[27.955591, 61.126398],[26.824071, 62.623084],
                        [25.244696, 60.952761],[25.720735, 57.301106],[27.215556, 56.465697],[26.588527, 54.490420],[27.916767, 51.500819],
                        [30.486551, 51.189432],[31.690782, 49.562583],[33.027088, 48.287486],[33.063924, 46.880482],[34.741612, 46.176980],
                        [36.137875, 47.062625],[37.509726, 46.396824],[39.504041, 44.857913],[41.013066, 44.945851],[42.000325, 46.975041],
                        [42.940339, 47.896361],[43.580391, 51.145463]

                    ],
                    color: "#D35400",
                    fillColor: "#D35400",
                }
            ],

            1400: [
                {
                    name: "Timurid Empire",
                    coords: [
                        [45.460131, 52.729002],[45.583290, 58.532234],[46.225453, 61.214336],[45.460131, 66.138850],[45.552525, 68.293325],
                        [44.777936, 70.491769],[42.391009, 71.239240],[37.926868, 74.800719],[34.633208, 78.494105],[29.305561, 83.418619],
                        [27.449790, 82.759086],[27.994401, 76.955194],[27.955591, 72.202620],[25.324167, 66.402663],[25.045792, 61.478974],
                        [25.799891, 57.304051],[27.098254, 56.465697],[26.627818, 54.400267],[27.839076, 51.767013],[30.107118, 49.960377],
                        [30.183122, 48.291845],[28.652031, 48.067641],[29.878755, 44.154411],[32.657876, 41.258380],[35.317366, 39.196273],
                        [38.479395, 37.653168],[40.979898, 38.007205],[42.504503, 41.528391],[43.325178, 40.065306],[43.707594, 39.185928],
                        [43.929550, 44.110442],[43.675818, 47.408108],
                    ],
                    color: "#5D3FD3",
                    fillColor: "#5D3FD3"

                }
            ],
            1500: [
                {
                    name: "Shaybanids Dynasty",
                    coords: [
                        [55.078367, 76.121576],[55.677584, 70.933013],[54.622978, 65.126953],[52.482780, 59.934337],
                        [47.398349, 58.199241],[42.875964, 52.420560],[39.027719, 53.783595],[36.738884, 53.959471],
                        [35.746512, 58.800336],[34.957995, 67.194103],[38.065392, 70.403831],[39.909736, 74.756750],
                        [42.908160, 76.515505],[46.649436, 76.647412],[47.487513, 78.754784],[50.345460, 79.984428],
                        [52.616390, 81.697659],[53.826597, 81.132237]
                    ],
                    color: "#B08D57",
                    fillColor: "#B08D57"

                }

            ],

            1750: [
                {
                    name: "Bukhara Amirete",
                    coords: [
                        [46.377254, 62.182028], [45.860131, 62.269589], [46.042736, 63.324842], [45.898450, 64.204219], [45.429299, 65.303441], [44.150681, 66.666477],
                        [43.580391, 70.140018], [42.811522, 69.348578], [40.747257, 68.513169], [39.639538, 68.513169], [38.307181, 69.832236],
                        [37.230328, 69.700329], [36.668419, 68.425232], [36.491973, 66.886321], [36.949892, 64.907721], [37.579413, 63.676593],
                        [39.130060, 62.401495], [39.707187, 61.302273], [41.277806, 60.906554], [42.843751, 60.818616], [44.024422, 60.598771],
                        [45.274886, 61.126398], [46.012224, 60.862585], 
                    ],
                    color: "#3A3A3A",
                    fillColor: "#3A3A3A"
                },

                {
                    name: "Khiva Khanate",
                    coords: [
                        [44.024422, 60.598771],[44.087585, 60.334958],[44.402392, 59.411612],[44.056012, 58.752079],
                        [44.402392, 58.180483],[43.834527, 57.476981],[42.811522, 57.257137],[41.376809, 57.037292],
                        [39.707187, 57.696826],[38.376115, 58.752079],[38.134557, 60.598771],[38.444985, 61.566087],
                        [38.865375, 62.583568],[39.389509, 61.814731],[39.698734, 61.278903],[40,61.1],[42.2,60.8]

                    ],
                    color: "red",
                    fillColor: "pink"
                },

                {
                    name: "Kokand Khanate",
                    coords: [
                        [43.570442, 70.172514],[42.779275, 69.400782],[40.730608, 68.565391],[39.645882, 68.540890],
                        [38.307181, 69.884328],[37.221580, 69.763496],[36.835668, 70.091878],[36.226550, 70.533405],
                        [35.906849, 71.477074],[35.942436, 72.534177],[36.509636, 74.071391],[36.985003, 74.424745],
                        [38.530979, 74.081347],[40.513799, 74.141186],[41.672912, 73.613559],[42.261049, 73.349746],
                        [43.325178, 71.986711],
                    ],
                    color: "green",
                    fillColor: "lightgreen"
                }

            ],

            1950: [
                {
                    name: "Uzbekistan SSR",
                    coords: [
                        [44.997825, 56.002416], [45.591939, 58.588436], [45.344424, 59.012004],
                        [44.633482, 60.610259], [44.370987, 61.045008], [44.363133, 61.115591], [44.229457, 61.138393],
                        [44.249134, 61.126872], [43.508721, 62.017584], [43.512705, 62.231166], [43.644026, 63.374905],
                        [43.596306, 63.863496], [43.564472, 64.544077], [43.735383, 64.934583], [43.713550, 65.003117],
                        [43.488798, 65.186209], [43.309191, 65.549724], [42.851806, 65.844366], [42.932296, 66.098689],
                        [42.569264, 66.093067], [42.342305, 66.071070], [42.370720, 66.000581], [41.934977, 66.004861],
                        [41.877741, 66.543901], [41.502407, 66.607373], [41.141433, 66.714569], [41.143501, 67.002219],
                        [41.137296, 67.318128], [41.120746, 67.367806], [41.170384, 67.579482], [41.170384, 67.685441],
                        [41.184855, 67.741168], [41.135227, 67.865162], [41.154876, 67.896844], [41.149706, 67.965325],
                        [41.091772, 67.988160], [41.025499, 67.982047], [41.019283, 68.022355], [41.046217, 68.038241],
                        [41.082457, 68.079641], [41.036895, 68.130143], [41.032751, 68.090290], [41.007884, 68.054731],
                        [41.001666, 68.083604], [40.930115, 68.093316], [40.886524, 68.007917], [40.861083, 68.005495],
                        [40.858487, 67.969534], [40.835632, 67.976179], [40.800296, 68.023115], [40.790939, 68.075400],
                        [40.721762, 68.161158], [40.686886, 68.217876], [40.573283, 68.481840], [40.595185, 68.661636],
                        [40.686886, 68.640636], [40.707710, 68.584744], [40.779502, 68.587419], [40.807573, 68.562224],
                        [40.851216, 68.562734], [40.918701, 68.586194], [40.996484, 68.504706], [40.999593, 68.660234],
                        [40.961234, 68.674309], [40.966937, 68.728373], [41.008921, 68.759839], [41.027571, 68.716631],
                        [41.178654, 68.918625], [41.237544, 68.996510], [41.224634, 69.028558], [41.246321, 69.022224],
                        [41.343825, 69.024505], [41.378870, 69.073557], [41.371141, 69.086364], [41.357742, 69.088737],
                        [41.400505, 69.170782], [41.431402, 69.149378], [41.466399, 69.252104], [41.440667, 69.295755],
                        [41.557922, 69.477689], [41.709829, 69.911196], [41.804078, 69.996178], [41.777457, 70.048743],
                        [42.041134, 70.318311], [42.110449, 70.488272], [42.004407, 70.647939], [42.127766, 70.695192],
                        [42.167475, 70.746187], [42.208176, 70.798797], [42.261049, 70.949822], [42.279341, 71.125385],
                        [42.202073, 71.273483], [42.132858, 71.233615], [42.022773, 71.001804], [42.047253, 70.872711],
                        [41.930890, 70.847849], [41.900233, 70.668704], [41.718030, 70.488113], [41.545589, 70.170500],
                        [41.389173, 70.482355], [41.467428, 70.719368], [41.370625, 70.784653], [41.228249, 70.785130],
                        [41.167283, 70.968885], [41.188989, 71.237918], [41.104191, 71.278827], [41.130056, 71.348667],
                        [41.109365, 71.405423], [41.162114, 71.460448], [41.282967, 71.448100], [41.403596, 71.657845],
                        [41.474631, 71.607309], [41.557922, 71.721476], [41.420075, 71.709797], [41.442726, 71.788829],
                        [41.296381, 71.929945], [41.176587, 71.888810], [41.117642, 72.067465], [41.164182, 72.170438],
                        [41.010993, 72.178649], [41.050360, 72.344664], [40.967456, 72.547969], [40.883410, 72.577149],
                        [40.822124, 73.180762], [40.711874, 73.141457], [40.501269, 72.820352], [40.611867, 72.385655],
                        [40.405131, 72.426785], [40.463666, 72.180076], [40.157885, 71.742257], [40.325608, 71.092085],
                        [40.195659, 70.624900], [40.430224, 70.333889], [40.697299, 70.791642], [40.992338, 70.395328],
                        [40.630630, 69.718735], [40.768062, 69.520409], [40.786780, 69.367447], [40.591014, 69.350536],
                        [40.543026, 69.208336], [40.346544, 69.328758], [40.199855, 69.290661], [40.145289, 68.520839],
                        [40.073868, 68.628636], [40.115890, 69.010296], [39.867588, 68.812342], [39.550648, 68.532429],
                        [39.681826, 67.718430], [39.516755, 67.416840], [39.334297, 67.488068], [39.249271, 67.345532],
                        [39.155622, 67.666730], [38.985033, 67.730884], [38.942321, 68.180133], [38.393339, 68.147151],
                        [38.186387, 68.400729], [37.221580, 67.796395], [37.166883, 67.257746], [37.387617, 67.012195],
                        [37.352693, 66.566027], [37.909534, 66.653835], [38.264063, 65.950286], [38.272689, 65.566424],
                        [38.608286, 65.033122], [39.010648, 64.356915], [38.950865, 64.181711], [39.279042, 63.698816],
                        [39.960280, 62.434260], [40.413496, 62.346994], [40.747257, 62.028143], [41.106261, 61.891717],
                        [41.281935, 61.424602], [41.120746, 61.259836], [41.219986, 60.501347], [41.424194, 60.086181],
                        [41.594905, 60.165931], [42.297627, 59.912665], [42.309815, 59.429007], [42.536892, 59.170295],
                        [42.520700, 59.006481], [42.791370, 58.625788], [42.642041, 58.199734], [42.309815, 58.546190],
                        [42.289501, 58.402540], [42.431566, 58.337125], [42.500453, 58.019076], [42.204107, 57.870589],
                        [42.147114, 57.304037], [41.926803, 57.117926], [41.885921, 56.984761], [41.343825, 57.138738],
                        [41.219986, 57.041004], [41.319076, 56.007264], [44.997825, 56.002416]
                    ],
                    color: "#CC0000",
                    fillColor: "#CC0000"
                }
            ],



            2020: [
                {
                    name: "Uzbekistan",
                    coords: [
                        [44.997825, 56.002416], [45.591939, 58.588436], [45.344424, 59.012004],
                        [44.633482, 60.610259], [44.370987, 61.045008], [44.363133, 61.115591], [44.229457, 61.138393],
                        [44.249134, 61.126872], [43.508721, 62.017584], [43.512705, 62.231166], [43.644026, 63.374905],
                        [43.596306, 63.863496], [43.564472, 64.544077], [43.735383, 64.934583], [43.713550, 65.003117],
                        [43.488798, 65.186209], [43.309191, 65.549724], [42.851806, 65.844366], [42.932296, 66.098689],
                        [42.569264, 66.093067], [42.342305, 66.071070], [42.370720, 66.000581], [41.934977, 66.004861],
                        [41.877741, 66.543901], [41.502407, 66.607373], [41.141433, 66.714569], [41.143501, 67.002219],
                        [41.137296, 67.318128], [41.120746, 67.367806], [41.170384, 67.579482], [41.170384, 67.685441],
                        [41.184855, 67.741168], [41.135227, 67.865162], [41.154876, 67.896844], [41.149706, 67.965325],
                        [41.091772, 67.988160], [41.025499, 67.982047], [41.019283, 68.022355], [41.046217, 68.038241],
                        [41.082457, 68.079641], [41.036895, 68.130143], [41.032751, 68.090290], [41.007884, 68.054731],
                        [41.001666, 68.083604], [40.930115, 68.093316], [40.886524, 68.007917], [40.861083, 68.005495],
                        [40.858487, 67.969534], [40.835632, 67.976179], [40.800296, 68.023115], [40.790939, 68.075400],
                        [40.721762, 68.161158], [40.686886, 68.217876], [40.573283, 68.481840], [40.595185, 68.661636],
                        [40.686886, 68.640636], [40.707710, 68.584744], [40.779502, 68.587419], [40.807573, 68.562224],
                        [40.851216, 68.562734], [40.918701, 68.586194], [40.996484, 68.504706], [40.999593, 68.660234],
                        [40.961234, 68.674309], [40.966937, 68.728373], [41.008921, 68.759839], [41.027571, 68.716631],
                        [41.178654, 68.918625], [41.237544, 68.996510], [41.224634, 69.028558], [41.246321, 69.022224],
                        [41.343825, 69.024505], [41.378870, 69.073557], [41.371141, 69.086364], [41.357742, 69.088737],
                        [41.400505, 69.170782], [41.431402, 69.149378], [41.466399, 69.252104], [41.440667, 69.295755],
                        [41.557922, 69.477689], [41.709829, 69.911196], [41.804078, 69.996178], [41.777457, 70.048743],
                        [42.041134, 70.318311], [42.110449, 70.488272], [42.004407, 70.647939], [42.127766, 70.695192],
                        [42.167475, 70.746187], [42.208176, 70.798797], [42.261049, 70.949822], [42.279341, 71.125385],
                        [42.202073, 71.273483], [42.132858, 71.233615], [42.022773, 71.001804], [42.047253, 70.872711],
                        [41.930890, 70.847849], [41.900233, 70.668704], [41.718030, 70.488113], [41.545589, 70.170500],
                        [41.389173, 70.482355], [41.467428, 70.719368], [41.370625, 70.784653], [41.228249, 70.785130],
                        [41.167283, 70.968885], [41.188989, 71.237918], [41.104191, 71.278827], [41.130056, 71.348667],
                        [41.109365, 71.405423], [41.162114, 71.460448], [41.282967, 71.448100], [41.403596, 71.657845],
                        [41.474631, 71.607309], [41.557922, 71.721476], [41.420075, 71.709797], [41.442726, 71.788829],
                        [41.296381, 71.929945], [41.176587, 71.888810], [41.117642, 72.067465], [41.164182, 72.170438],
                        [41.010993, 72.178649], [41.050360, 72.344664], [40.967456, 72.547969], [40.883410, 72.577149],
                        [40.822124, 73.180762], [40.711874, 73.141457], [40.501269, 72.820352], [40.611867, 72.385655],
                        [40.405131, 72.426785], [40.463666, 72.180076], [40.157885, 71.742257], [40.325608, 71.092085],
                        [40.195659, 70.624900], [40.430224, 70.333889], [40.697299, 70.791642], [40.992338, 70.395328],
                        [40.630630, 69.718735], [40.768062, 69.520409], [40.786780, 69.367447], [40.591014, 69.350536],
                        [40.543026, 69.208336], [40.346544, 69.328758], [40.199855, 69.290661], [40.145289, 68.520839],
                        [40.073868, 68.628636], [40.115890, 69.010296], [39.867588, 68.812342], [39.550648, 68.532429],
                        [39.681826, 67.718430], [39.516755, 67.416840], [39.334297, 67.488068], [39.249271, 67.345532],
                        [39.155622, 67.666730], [38.985033, 67.730884], [38.942321, 68.180133], [38.393339, 68.147151],
                        [38.186387, 68.400729], [37.221580, 67.796395], [37.166883, 67.257746], [37.387617, 67.012195],
                        [37.352693, 66.566027], [37.909534, 66.653835], [38.264063, 65.950286], [38.272689, 65.566424],
                        [38.608286, 65.033122], [39.010648, 64.356915], [38.950865, 64.181711], [39.279042, 63.698816],
                        [39.960280, 62.434260], [40.413496, 62.346994], [40.747257, 62.028143], [41.106261, 61.891717],
                        [41.281935, 61.424602], [41.120746, 61.259836], [41.219986, 60.501347], [41.424194, 60.086181],
                        [41.594905, 60.165931], [42.297627, 59.912665], [42.309815, 59.429007], [42.536892, 59.170295],
                        [42.520700, 59.006481], [42.791370, 58.625788], [42.642041, 58.199734], [42.309815, 58.546190],
                        [42.289501, 58.402540], [42.431566, 58.337125], [42.500453, 58.019076], [42.204107, 57.870589],
                        [42.147114, 57.304037], [41.926803, 57.117926], [41.885921, 56.984761], [41.343825, 57.138738],
                        [41.219986, 57.041004], [41.319076, 56.007264], [44.997825, 56.002416]
                    ],
                    color: "#00965E",
                    fillColor: "#00965E"
                }
            ]
        };

        function showBorders(year) {
            if (borderLayer) {
                map.removeLayer(borderLayer);
            }

            borderLayer = L.layerGroup(); // Create a new layer group

            let borderData = borders[year];

            if (!borderData) return; // If no borders exist for this year, exit

            if (!Array.isArray(borderData)) {
                borderData = [{ coords: borderData, color: "black", fillColor: "gray" }];
            }

            borderData.forEach(region => {
                L.polygon(region.coords, { color: region.color, fillColor: region.fillColor, fillOpacity: 0.5 })
                    .bindPopup(region.name || year.toString())
                    .addTo(borderLayer);
            });

            borderLayer.addTo(map);
        };




        map.on('click', function (e) {
            let coords = e.latlng.lat.toFixed(6) + ", " + e.latlng.lng.toFixed(6);
            navigator.clipboard.writeText(coords).then(() => {
                alert("Copied to clipboard: " + coords);
            }).catch(err => {
                alert("Failed to copy: " + err);
            });
        });

        showBorders(2020);
    </script>

</body>

</html>
